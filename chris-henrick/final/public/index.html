<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Guess That Hood!</title>
		<meta name="author" content="Chris Henrick">
		<meta name="description" content="">
	  	<meta name="viewport" content="width=device-width">
		<!-- Date:  -->
		<link rel="stylesheet" href="css/main.css" type="text/css" media="all" />
		<link rel="stylesheet" type="text/css" href="css/vendor/reset.css">
		<link rel="icon" href="favicon.ico" />
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />		
		<!--[if lt IE 9]>
			<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	<body>
	  <!-- Prompt IE 6 users to install Chrome Frame. Remove this if you support IE 6.
	       chromium.org/developers/how-tos/chrome-frame-getting-started -->
	  <!--[if lte IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->

		<div id="wrapper">
			<div class="title">
				<h1>Guess that NYC 'hood</h1>
			</div>
			<div class="answer-div">
				<div class="status hidden">										
					Score:
					<span id="answer-count"></span>
					correct out of 
					<span id="guesses-count"></span>
					total.
					<br>
					You have
					<span id="hoods-to-go">
						310
					</span>
					'hoods to go!
				</div>
				<h3 class= "no-answers-found hidden">
					You haven't played yet.
					<br>
					Guess some NYC 'hoods!
				</h3>
				<h3 id="answers-title" class="hidden">Your Answers:</h3>
				<ul class="guesses">
					<!-- guesses listed here -->
				</ul>

				<!-- guess list item template -->
				<script type="text/template" class="guess-template">
					<li class="guess">
						<p>
							<%= guess.guessBodyText %>
						</p>
					</li>
				</script>

				<!-- leaflet pop-up template -->
				<script type="text/template" class="leaflet-popup-form">
					<div class="form-container">
						<h3 class="form-title">
							What Neighborhood is this?
						</h3>
						<form class="write-answer-form">
							<input type="text" class="write-answer">
							<input type="submit" class="submit-answer" value="Guess">
						</form>
					<div class="hint-box">							
						<h4 class="hint-title">
							Need a
							<span class="show-hint">
								hint?
							</span>
						</h4>
						<p class="hint hidden">
						<% var hint %>
						<% function showHint(target) {
							var hood = target.properties.neighborho,
								len = hood.length,
								beginSlice = Math.floor(Math.random() * (len/2 - 1) + 1 ),
								endSlice = len - (Math.floor(Math.random() * 3));
							//console.log('beginSlice: ', beginSlice, ' endSlice: ', endSlice);
							hint = ('-'.repeat(beginSlice)) + hood.slice(beginSlice, endSlice) + ('-'.repeat(len-endSlice));
						} %>						
						<% showHint(target); %>
						<%= hint %>
						</p>						
					</div>
				</script>

				<div id="footer">
					<input type="submit" value="Play Again?" id="play-again" class="hidden">
				</div>
			</div>
			<div id="map"></div>			
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
       	<script src="bower_components/underscore/underscore.js "></script>
		<script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
		<script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.2.3"></script>
		<script type="text/javascript">
			String.prototype.repeat = function( num ) {
				    return new Array( num + 1 ).join( this );
			};
		</script>
		<script src="js/events.js"></script>		
		<script src="js/map.js"></script>
		<script src="js/game.js"></script>
	</body>
</html>